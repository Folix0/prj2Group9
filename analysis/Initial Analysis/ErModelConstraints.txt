CREATE TABLE Accountant (ID SERIAL NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Customer (ID SERIAL NOT NULL, InvoiceID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Delivery_Tour (ID SERIAL NOT NULL, total_amount_loaded float8 NOT NULL, delivery_deadline date NOT NULL, finsih_delivery_time int4 NOT NULL, finsih_delivery_date date NOT NULL, Work_Order_PlanID int4 NOT NULL, Load_Unload_DestinationID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Driver (ID SERIAL NOT NULL, date_of_enrollment date NOT NULL, is_available bool NOT NULL, "Delivery tourID" int4 NOT NULL, PlannerID int4 NOT NULL, Delivery_TourID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Hazerdous_License (ID SERIAL NOT NULL, type_hazerdous bool NOT NULL, start_date date NOT NULL, end_date date NOT NULL, DriverID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Incident (ID SERIAL NOT NULL, description varchar(255) NOT NULL, driver_name varchar(255) NOT NULL, Delivery_TourID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Invoice (ID SERIAL NOT NULL, AccountantID int4 NOT NULL, total_price int4 NOT NULL, email varchar(250) NOT NULL, first_name varchar(250) NOT NULL, last_name varchar(250) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Load_Unload_Destination (ID SERIAL NOT NULL, load_amount int4 NOT NULL, load_location varchar(255) NOT NULL, unload_amount int4 NOT NULL, unload_location varchar(255) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE "Order" (ID int4 NOT NULL, AccountantID int4 NOT NULL, order_amount int4 NOT NULL, hazardous varchar(250) NOT NULL, CustomerID int4 NOT NULL, InvoiceID int4 NOT NULL, Work_Order_PlanID int4 NOT NULL, destination_address varchar(255) NOT NULL, postcode int4 NOT NULL, delivery_date date NOT NULL, delivery_time date NOT NULL, PlannerID int4 NOT NULL, PRIMARY KEY (ID, InvoiceID, Work_Order_PlanID));
CREATE TABLE Owner (ID SERIAL NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Planner (ID SERIAL NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Quotation (ID SERIAL NOT NULL, "proposed price" float8 NOT NULL, "proposed planning" varchar(255) NOT NULL, OrderID int4 NOT NULL, OrderInvoiceID int4 NOT NULL, OrderWork_Order_PlanID int4 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Trailer (ID SERIAL NOT NULL, is_cleaned bool NOT NULL, available bool NOT NULL, hazardous bool NOT NULL, trailer_weight float8, capacity float8 NOT NULL, trailer_pickup_location varchar(255) NOT NULL, maintenance_check_date date NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Truck (ID SERIAL NOT NULL, truck_weight float8 NOT NULL, available bool NOT NULL, maintenance_check_date date NOT NULL, mileage float8 NOT NULL, PRIMARY KEY (ID));
CREATE TABLE "User" (ID int4 NOT NULL, first_name varchar(255) NOT NULL, last_name varchar(255) NOT NULL, birth_year date NOT NULL, email varchar(255) NOT NULL, phone_number int4 NOT NULL, address varchar(255) NOT NULL, DriverID int4 NOT NULL, OwnerID int4 NOT NULL, PlannerID int4 NOT NULL, AccountantID int4 NOT NULL, CustomerID int4 NOT NULL, PRIMARY KEY (ID, DriverID, OwnerID, PlannerID, AccountantID, CustomerID));
CREATE TABLE Work_Order_Plan (PlannerID int4 NOT NULL, TruckID int4 NOT NULL, TrailerID int4 NOT NULL, ID SERIAL NOT NULL, DriverID int4 NOT NULL, PRIMARY KEY (ID));
ALTER TABLE "User" ADD CONSTRAINT FKUser338341 FOREIGN KEY (DriverID) REFERENCES Driver (ID);
ALTER TABLE "User" ADD CONSTRAINT FKUser185080 FOREIGN KEY (OwnerID) REFERENCES Owner (ID);
ALTER TABLE "User" ADD CONSTRAINT FKUser360299 FOREIGN KEY (PlannerID) REFERENCES Planner (ID);
ALTER TABLE "User" ADD CONSTRAINT FKUser763167 FOREIGN KEY (AccountantID) REFERENCES Accountant (ID);
ALTER TABLE "User" ADD CONSTRAINT FKUser748954 FOREIGN KEY (CustomerID) REFERENCES Customer (ID);
ALTER TABLE Invoice ADD CONSTRAINT FKInvoice446696 FOREIGN KEY (AccountantID) REFERENCES Accountant (ID);
ALTER TABLE Customer ADD CONSTRAINT FKCustomer231895 FOREIGN KEY (InvoiceID) REFERENCES Invoice (ID);
ALTER TABLE "Order" ADD CONSTRAINT FKOrder955410 FOREIGN KEY (AccountantID) REFERENCES Accountant (ID);
ALTER TABLE Work_Order_Plan ADD CONSTRAINT FKWork_Order196685 FOREIGN KEY (PlannerID) REFERENCES Planner (ID);
ALTER TABLE Work_Order_Plan ADD CONSTRAINT FKWork_Order699523 FOREIGN KEY (TruckID) REFERENCES Truck (ID);
ALTER TABLE Work_Order_Plan ADD CONSTRAINT FKWork_Order49579 FOREIGN KEY (TrailerID) REFERENCES Trailer (ID);
ALTER TABLE Driver ADD CONSTRAINT FKDriver946873 FOREIGN KEY (PlannerID) REFERENCES Planner (ID);
ALTER TABLE Work_Order_Plan ADD CONSTRAINT FKWork_Order174727 FOREIGN KEY (DriverID) REFERENCES Driver (ID);
ALTER TABLE Hazerdous_License ADD CONSTRAINT FKHazerdous_67908 FOREIGN KEY (DriverID) REFERENCES Driver (ID);
ALTER TABLE "Order" ADD CONSTRAINT FKOrder556711 FOREIGN KEY (CustomerID) REFERENCES Customer (ID);
ALTER TABLE "Order" ADD CONSTRAINT FKOrder134347 FOREIGN KEY (InvoiceID) REFERENCES Invoice (ID);
ALTER TABLE "Order" ADD CONSTRAINT FKOrder857929 FOREIGN KEY (Work_Order_PlanID) REFERENCES Work_Order_Plan (ID);
ALTER TABLE "Order" ADD CONSTRAINT FKOrder168056 FOREIGN KEY (PlannerID) REFERENCES Planner (ID);
ALTER TABLE Quotation ADD CONSTRAINT FKQuotation53393 FOREIGN KEY (OrderID, OrderInvoiceID, OrderWork_Order_PlanID) REFERENCES "Order" (ID, InvoiceID, Work_Order_PlanID);
ALTER TABLE Driver ADD CONSTRAINT FKDriver69399 FOREIGN KEY (Delivery_TourID) REFERENCES Delivery_Tour (ID);
ALTER TABLE Delivery_Tour ADD CONSTRAINT FKDelivery_T624108 FOREIGN KEY (Work_Order_PlanID) REFERENCES Work_Order_Plan (ID);
ALTER TABLE Incident ADD CONSTRAINT FKIncident219946 FOREIGN KEY (Delivery_TourID) REFERENCES Delivery_Tour (ID);
ALTER TABLE Delivery_Tour ADD CONSTRAINT FKDelivery_T425915 FOREIGN KEY (Load_Unload_DestinationID) REFERENCES Load_Unload_Destination (ID);
ALTER TABLE Driver ADD CONSTRAINT FKDriver92784 FOREIGN KEY ("Delivery tourID") REFERENCES Delivery_Tour (ID);

ALTER TABLE "User" DROP CONSTRAINT FKUser338341;
ALTER TABLE "User" DROP CONSTRAINT FKUser185080;
ALTER TABLE "User" DROP CONSTRAINT FKUser360299;
ALTER TABLE "User" DROP CONSTRAINT FKUser763167;
ALTER TABLE "User" DROP CONSTRAINT FKUser748954;
ALTER TABLE Invoice DROP CONSTRAINT FKInvoice446696;
ALTER TABLE Customer DROP CONSTRAINT FKCustomer231895;
ALTER TABLE "Order" DROP CONSTRAINT FKOrder955410;
ALTER TABLE Work_Order_Plan DROP CONSTRAINT FKWork_Order196685;
ALTER TABLE Work_Order_Plan DROP CONSTRAINT FKWork_Order699523;
ALTER TABLE Work_Order_Plan DROP CONSTRAINT FKWork_Order49579;
ALTER TABLE Driver DROP CONSTRAINT FKDriver946873;
ALTER TABLE Work_Order_Plan DROP CONSTRAINT FKWork_Order174727;
ALTER TABLE Hazerdous_License DROP CONSTRAINT FKHazerdous_67908;
ALTER TABLE "Order" DROP CONSTRAINT FKOrder556711;
ALTER TABLE "Order" DROP CONSTRAINT FKOrder134347;
ALTER TABLE "Order" DROP CONSTRAINT FKOrder857929;
ALTER TABLE "Order" DROP CONSTRAINT FKOrder168056;
ALTER TABLE Quotation DROP CONSTRAINT FKQuotation53393;
ALTER TABLE Driver DROP CONSTRAINT FKDriver69399;
ALTER TABLE Delivery_Tour DROP CONSTRAINT FKDelivery_T624108;
ALTER TABLE Incident DROP CONSTRAINT FKIncident219946;
ALTER TABLE Delivery_Tour DROP CONSTRAINT FKDelivery_T425915;
ALTER TABLE Driver DROP CONSTRAINT FKDriver92784;
DROP TABLE IF EXISTS Accountant CASCADE;
DROP TABLE IF EXISTS Customer CASCADE;
DROP TABLE IF EXISTS Delivery_Tour CASCADE;
DROP TABLE IF EXISTS Driver CASCADE;
DROP TABLE IF EXISTS Hazerdous_License CASCADE;
DROP TABLE IF EXISTS Incident CASCADE;
DROP TABLE IF EXISTS Invoice CASCADE;
DROP TABLE IF EXISTS Load_Unload_Destination CASCADE;
DROP TABLE IF EXISTS "Order" CASCADE;
DROP TABLE IF EXISTS Owner CASCADE;
DROP TABLE IF EXISTS Planner CASCADE;
DROP TABLE IF EXISTS Quotation CASCADE;
DROP TABLE IF EXISTS Trailer CASCADE;
DROP TABLE IF EXISTS Truck CASCADE;
DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Work_Order_Plan CASCADE;
